package eth

import (
	"sync"

	"github.com/ethereum/go-ethereum/common/hexutil"
	ethtypes "github.com/ethereum/go-ethereum/core/types"
)

var (
	bloomOnce        sync.Once
	defaultLogsBloom ethtypes.Bloom
)

const (
	latestTaskKey = "infura_latest_task"
	bloomHex      = "0x00000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000800000000000000000000000000000000000000000000000020000000000000000000800000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000040000000000000000000000002000000000000000000000000200000000000000020000000000000000000000000000000000000000000000000000000000000400000"
)

func init() {
	bloomOnce.Do(func() {
		bloomBytes, _ := hexutil.Decode(bloomHex)
		defaultLogsBloom = ethtypes.BytesToBloom(bloomBytes)
	})
}
